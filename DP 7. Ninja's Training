//MEMOIZATION

void d(vector<int>&v){for(auto &t:v){cout<<t<<" ";}cout<<endl;}
void d(vector<vector<int>>&v){for(auto &a:v){for(auto &b:a){cout<<b<<" ";}cout<<endl;}}
void d(int arr[],int size){for(int i=0;i<size;i++){cout<<arr[i]<<" ";}cout<<endl;}
void d(vector<vector<vector<int>>>&v){for(auto &a:v){for(auto &b:a){for(auto &c:b){cout<<c<<" ";}cout<<endl;}cout<<endl;}cout<<endl;}

class Solution {
  public:
    int f(int ind,int prev,vector<vector<int>>& points,vector<vector<int>>& dp){
        if(ind==0){
            int maxi=0;
            for(int i=0;i<3;i++){
                if(i!=prev){
                    maxi=max(maxi,points[0][i]);
                }
            }
            return maxi;
        }
        if(dp[ind][prev]!=-1)return dp[ind][prev];
        int ans=0;
        for(int i=0;i<3;i++){
                if(i!=prev){
                    ans=max(ans,points[ind][i]+f(ind-1,i,points,dp));
                    // cout<<ans<<endl;
                }
        }
        return dp[ind][prev]=ans;
    }
    int maximumPoints(vector<vector<int>>& points, int n) {
       vector<vector<int>>dp(n,vector<int>(4,-1));
       int x=f(n-1,3,points,dp);
    //   d(dp);
       return x;

    }
};
